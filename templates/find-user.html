<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ù–∞–π—Ç–∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ ‚Äî MaxChat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;600&family=Orbitron:wght@600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0b0b0d, #14161f);
            color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            overflow: hidden;
        }

        .container {
            max-width: 620px;
            width: 100%;
            text-align: center;
            padding: 40px 30px;
            background: rgba(15, 15, 20, 0.75);
            backdrop-filter: blur(12px);
            border-radius: 24px;
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.6),
                inset 0 0 0 1px rgba(80, 80, 100, 0.15);
            border: 1px solid rgba(60, 60, 80, 0.3);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.1rem;
            color: #00e0b0;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        p {
            font-size: 1.05rem;
            color: #aaa;
            line-height: 1.6;
            max-width: 520px;
            margin: 0 auto 30px;
        }

        /* 3D-–≥–ª–æ–±—É—Å –≤ —Å—Ç–∏–ª–µ "–∫–æ–Ω—Å–æ–ª–∏" */
        .globe {
            width: 120px;
            height: 120px;
            margin: 32px auto;
            position: relative;
        }

        .globe-inner {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: 
                radial-gradient(circle at 30% 30%, rgba(0, 224, 176, 0.15), transparent 70%),
                #0f0f15;
            border: 2px solid rgba(0, 224, 176, 0.3);
            box-shadow: 0 0 20px rgba(0, 224, 176, 0.15);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: float 3s ease-in-out infinite;
        }

        .globe-inner::before {
            content: '';
            position: absolute;
            width: 60%;
            height: 8px;
            background: rgba(0, 224, 176, 0.5);
            border-radius: 4px;
            transform: rotate(-25deg);
            top: 38%;
            left: 20%;
        }

        .globe-inner i {
            font-size: 2.8rem;
            color: rgba(0, 224, 176, 0.7);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .status {
            font-size: 1.15rem;
            font-weight: 500;
            color: #888;
            margin: 24px 0;
            min-height: 26px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #00e0b0;
            border-radius: 50%;
            opacity: 0.6;
            animation: blink 1.8s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }

        .btn {
            padding: 14px 32px;
            font-size: 1.05rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(20, 20, 25, 0.8);
            color: #e0e0e0;
            border: 1px solid rgba(80, 80, 100, 0.2);
            backdrop-filter: blur(6px);
        }

        .btn:hover {
            transform: translateY(-3px);
            background: rgba(30, 30, 35, 0.9);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .btn-cancel {
            background: rgba(220, 50, 50, 0.2);
            color: #ff6b6b;
            border-color: rgba(220, 50, 50, 0.3);
        }

        .btn-cancel:hover {
            background: rgba(220, 50, 50, 0.3);
            color: #ff8080;
        }

        .btn-connected {
            color: #00e0b0;
            border-color: rgba(0, 224, 176, 0.4);
            box-shadow: 0 0 0 0 rgba(0, 224, 176, 0);
            animation: pulse-border 2s infinite;
        }

        @keyframes pulse-border {
            0% { box-shadow: 0 0 0 0 rgba(0, 224, 176, 0.3); }
            70% { box-shadow: 0 0 0 10px rgba(0, 224, 176, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 224, 176, 0); }
        }

        .connected,
        .chat-area,
        #chat-input-area {
            display: none;
        }

        .connected {
            margin: 24px 0 16px;
            padding: 14px 22px;
            background: rgba(0, 40, 35, 0.4);
            border-radius: 16px;
            color: #00e0b0;
            font-weight: 500;
            border: 1px solid rgba(0, 224, 176, 0.2);
        }

        .chat-area {
            margin-top: 16px;
            padding: 16px;
            background: rgba(10, 10, 15, 0.6);
            border-radius: 16px;
            text-align: left;
            max-height: 220px;
            overflow-y: auto;
            border: 1px solid rgba(60, 60, 80, 0.2);
        }

        .msg {
            padding: 10px 16px;
            margin: 10px 0;
            border-radius: 18px;
            max-width: 80%;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .msg.own {
            background: rgba(0, 224, 176, 0.15);
            color: #e0e0e0;
            margin-left: auto;
            border-bottom-right-radius: 6px;
            border: 1px solid rgba(0, 224, 176, 0.2);
        }

        .msg.other {
            background: rgba(40, 40, 50, 0.6);
            color: #d0d0d0;
            margin-right: auto;
            border-bottom-left-radius: 6px;
            border: 1px solid rgba(80, 80, 100, 0.2);
        }

        #chat-input-area {
            display: flex;
            gap: 10px;
            margin-top: 16px;
        }

        #chat-input {
            flex: 1;
            padding: 13px 20px;
            border: none;
            background: rgba(25, 25, 35, 0.7);
            color: white;
            border-radius: 50px;
            outline: none;
            font-size: 1rem;
            border: 1px solid rgba(80, 80, 100, 0.3);
        }

        #chat-input::placeholder {
            color: #666;
        }

        #send-btn {
            width: 46px;
            height: 46px;
            border-radius: 50%;
            background: #00e0b0;
            color: #0b0b0d;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all 0.2s;
        }

        #send-btn:hover {
            background: #00f0c0;
            transform: scale(1.08);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-top: 28px;
            color: #777;
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: #00e0b0;
        }

        /* –°–∫—Ä–æ–ª–ª–±–∞—Ä */
        .chat-area::-webkit-scrollbar {
            width: 6px;
        }
        .chat-area::-webkit-scrollbar-thumb {
            background: rgba(0, 224, 176, 0.3);
            border-radius: 10px;
        }
        .chat-area::-webkit-scrollbar-track {
            background: transparent;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-random"></i> –°–ª—É—á–∞–π–Ω—ã–π —á–∞—Ç</h1>
        <p>–ê–Ω–æ–Ω–∏–º–Ω–æ. –ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ end-to-end. –ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏ ‚Äî –∏ –ø–æ–≥–æ–≤–æ—Ä–∏.</p>

        <div class="globe">
            <div class="globe-inner">
                <i class="fas fa-globe-americas"></i>
            </div>
        </div>

        <div class="status" id="status">
            –ü–æ–∏—Å–∫ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞... <span class="status-dot"></span>
        </div>

        <button class="btn btn-cancel" id="action-btn">
            <i class="fas fa-ban"></i> –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫
        </button>

        <div class="connected" id="connected">
            ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –∞–Ω–æ–Ω–∏–º–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        </div>

        <div class="chat-area" id="chat-area">
            <div class="msg other">
                –ü—Ä–∏–≤–µ—Ç üëã –¢—ã —Ç–æ–∂–µ –≤ MaxChat?
            </div>
        </div>

        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
            <button id="send-btn"><i class="fas fa-paper-plane"></i></button>
        </div>

        <a href="/" class="back-link">
            <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è
        </a>
    </div>

    <script>
        const statusEl = document.getElementById('status');
        const actionBtn = document.getElementById('action-btn');
        const connectedEl = document.getElementById('connected');
        const chatArea = document.getElementById('chat-area');
        const chatInputArea = document.getElementById('chat-input-area');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');

        let phase = 'searching'; // searching ‚Üí connected
        let messages = [
            '–°–∫–∞–Ω–∏—Ä—É–µ–º –ï–≤—Ä–æ–ø—É‚Ä¶',
            '–ü—Ä–æ–≤–µ—Ä—è–µ–º –ê–∑–∏—é‚Ä¶',
            '–ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –°–ù–ì‚Ä¶',
            '–û–¥–∏–Ω –æ–Ω–ª–∞–π–Ω –≤ –°–®–ê‚Ä¶',
            '–ù–∞–π–¥–µ–Ω: –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚úÖ'
        ];
        let i = 0;

        // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞
        const interval = setInterval(() => {
            if (phase !== 'searching') return;
            statusEl.textContent = messages[i];
            i++;
            if (i === messages.length - 1) {
                setTimeout(() => connect(), 800);
            }
        }, 1100);

        function connect() {
            clearInterval(interval);
            phase = 'connected';

            statusEl.innerHTML = '‚úÖ –í —Å–µ—Ç–∏';
            statusEl.style.color = '#00e0b0';

            actionBtn.innerHTML = '<i class="fas fa-phone-slash"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å';
            actionBtn.classList.remove('btn-cancel');
            actionBtn.classList.add('btn-connected');

            connectedEl.style.display = 'block';
            chatArea.style.display = 'block';
            chatInputArea.style.display = 'flex';

            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        actionBtn.addEventListener('click', () => {
            if (phase === 'searching') {
                clearInterval(interval);
                alert('–ü–æ–∏—Å–∫ –æ—Ç–º–µ–Ω—ë–Ω.');
                window.location.href = '/';
            } else {
                alert('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ.');
                window.location.href = '/';
            }
        });

        function sendMessage() {
            const text = chatInput.value.trim();
            if (!text) return;

            const msg = document.createElement('div');
            msg.className = 'msg own';
            msg.textContent = text;
            chatArea.appendChild(msg);

            chatInput.value = '';
            chatArea.scrollTop = chatArea.scrollHeight;

            // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
            if (phase === 'connected') {
                setTimeout(() => {
                    const replies = [
                        "–ö—Ä—É—Ç–æ! –ê —Ç—ã –¥–∞–≤–Ω–æ –≤ MaxChat?",
                        "–•–∞, —Ç–æ–∂–µ —Ç–∞–∫ –¥—É–º–∞—é üòÑ",
                        "–ê –∫–∞–∫ —Ç–µ–±–µ –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å?",
                        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –º—ã—Å–ª—å!",
                        "–Ø —Ç—É—Ç –≤–ø–µ—Ä–≤—ã–µ‚Ä¶ –≤—Å—ë –Ω—Ä–∞–≤–∏—Ç—Å—è!"
                    ];
                    const reply = document.createElement('div');
                    reply.className = 'msg other';
                    reply.textContent = replies[Math.floor(Math.random() * replies.length)];
                    chatArea.appendChild(reply);
                    chatArea.scrollTop = chatArea.scrollHeight;
                }, 1200);
            }
        }

        sendBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', e => {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>